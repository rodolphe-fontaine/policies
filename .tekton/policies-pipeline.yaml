apiVersion: tekton.dev/v1alpha1
kind: PipelineResource
metadata:
  generation: 1
  name: policies-git
spec:
  params:
  - name: revision
    value: master
  - name: url
    value: https://github.com/rodolphe-fontaine/policies
  type: git
---
apiVersion: tekton.dev/v1alpha1
kind: Pipeline
metadata:
  name: pipeline
spec:
  resources:
  - name: git-source
    type: git
  tasks:
  - name: create-policy
    params:
    - name: pathToContext
      value: /workspace/git-source
    resources:
      inputs:
      - name: git-source
        resource: git-source
    taskRef:
      name: execute-yaml-task
